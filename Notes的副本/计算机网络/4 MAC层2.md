## WLAN

---

### IEEE 802.11

### 组网模式

1. 基站 AP![image-20220515205333314](https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20220515205333314.png)
2. Ad hoc模式
   - 自组织模式，无中心点
   - 随机组网
   - 一般在小范围内

### 介质访问控制

#### PCF 点协调模式

- 基站控制（AP）
- polling-based 轮询



#### DCF 分布协调模式

- 没有中心控制点，随机接入（Ad hoc）
- MACA
- CSMACA

### CSMA/CA(with Collision Avoidance)

#### 发送方

1. 在时隙开始时监听信道，一直等到信道空闲
2. 信道空闲后退避随机时间，退避结束后等待 DIFS 时间发送
3. 退避期间若有新的站点有发送请求，退避计时器停止计时
4. 信道再次空闲时继续计时

#### 接收方

1. 收到信息后等待 SIFS 时间
2. 发送 ACK

#### 监听

1. 物理监听
2. 逻辑监听（虚拟监听）
   - 每个站点本地保存网络分配向量 NAV
   - DATA 发送时在帧里指明本次通信的所需时间
   - 每个收到信息的站点都修改本地的 NAV 值，这段时间内不再监听
3. RTS/CTS 可选

#### 分段突发

长帧变短帧，提高可靠性

#### QoS

1. 不同帧监听时的退避时间不同
2. TXOP（传输机会）



## 数据链路交换

---

### Bridges

优点：

1. 在数据链路层互联局域网（==单位是帧==）

2. 即插即用

缺点：

1. 增加了时延
2. 能隔离冲突域但是不能避免广播风暴（目的地址是广播包 ）

#### Problem

1. 局域网帧格式可能不同
2. 收发双方速率可能不同
3. 不同局域网最大帧长可能不同
4. 安全性要求不一样

#### Learning Bridges

==flooding==：在不知道目标站点的端口时无条件向所有其他端口转发

==forward==：通过学习后，知道每个站点对应的端口，不再进行 flooding

==discard==：两个站点在一个端口，丢弃

##### 与Switch比较

相同点：

- 使用同样的逆向学习转发表

不同点：

- 交换机每个端口只连一台设备
- 网桥的各个端口可能使用不同的协议，因此网桥使用软件转发，交换机可能使用硬件
- 网桥逐帧转发，交换机可以多帧并行
- 网桥存储-转发，交换机可以直通 cut-through

#### Spanning Tree Bridges 生成树网桥

##### 学习网桥的问题

1. 连接两个局域网时会使用冗余连接来提高可靠性
2. 冗余路径会在拓扑结构里产生环，导致兜圈子，耗费了网络资源

##### 思想

断环，构造树形拓扑

#### 网络互联设备

![image-20220524112215445](https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20220524112215445.png)



### Virtual LANs虚拟局域网



