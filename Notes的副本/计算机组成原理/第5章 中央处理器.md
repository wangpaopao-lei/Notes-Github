# 第五章 中央处理器

![image-20220420095505166](https://raw.githubusercontent.com/wangpaopao-lei/pic/master/image-20220420095505166.png)

## CPU 的功能

### 指令控制

1. 控制程序的是执行顺序
2. 取出现行指令，并决定下条要执行的指令地址
3. CPU 内与指令控制相关的部件
   1. 程序计数器 PC（指令计数器）
      * 确定下一条指令的地址
      * 程序开始执行前，将程序的第一条指令所在地内存单元地址送入 PC
      * 顺序执行指令时，CPU 将自动修改 PC 内容，
   2. （内存）地址寄存器 MAR/AR
      * 保存当前 CPU 所访问的内存单元或 IO 接口的地址
      * 稳定保存访存地址，弥补内存和 CPU 之间速度的差别
   3. （内存）数据寄存器MDR/DR，缓冲寄存器
      * 输入缓冲：暂存内存单元或 IO 接口读出的指令或数据
      * 输出缓冲：暂存向内存单元或 IO 接口存入的数据
      * ==作用==：用作信息中转站，补偿 CPU 和内存、外设接口之间的速度差别；作为内存操作数的缓冲参加 CPU 的运算

### 操作控制

1. 指令取出后，CPU 依照操作码字段和形式地址段解释指令，指出是何操作、如何得到操作数地址
2. CPU产生每条指令的操作信号，把各种操作信号 送往相应的部件，从而控制这些部件按指令的要 求进行动作
3. CPU 内与操作控制相关的部件
   1. 指令寄存器 IR
      * 保存当前正在执行的一条指令
      * 保存指令时，指令先取到缓冲寄存器中，再传送到指令寄存器
      * 指令寄存器中操作码字段就是指令译码器的输入
   2. 指令译码器 ID
   3. 操作控制器

### 时序控制

### 数据加工

1. 通过算术运算或逻辑运算将原始信息转换成所需的结果
2. CPU 内与数据加工相关的部件
   1. ALU
   2. 浮点运算器
   3. 通用寄存器组
      * 早期：单累加器结构
        * 累加器：与 ALU 有直捷通路的通用寄存器
        * 功能：执行算术或逻辑运算时，为 ALU 提供一个工作区
      * 当前：通用寄存器堆结构
        * 有十几个甚至几十上百个通用寄存器有累加器功能
        * 其中任何一个寄存器均可存放源操作数和结果操作数
   4. 状态条件寄存器（程序状态字寄存器）
      * ==功能==：保存有算术指令和逻辑指令运算或测试的结果建立的各种条件码
        * 进位标志C
        * 溢出标志V
        * 零标志Z
        * 负标志N
      * 保存中断和系统工作状态等信息
      * 控制位

## CPU的基本组成

### 控制器

1. 性质：控制部件
2. 组成：