## Outline

![image-20221018133244580](https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221018133244580.png)

## Content

---

[toc]

# Database Design Using the E-R Model

![image-20221018135506409](https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221018135506409.png)

## 三个概念

---

### 实体集



### 联系集

实体集间的语义联系

==联系集也有可能有属性==（eg. ‘成绩’是‘选修’的属性

degree：联系集的度，联系的实体集的数量

映射：一对一、一对多

### 属性

1. 简单属性、复合属性（根据需求来确定是否需要分）

2. 单值属性、多值属性
3. 派生属性：可以从其他属性导出
   - 派生属性是否存储？取决于实现时的综合考虑（优势：便于操作；劣势：一致性维护开销大）

### weak entity sets弱实体集

没有主键的实体集

（该实体集对主键并不关心）

**在系统中必须依赖于强实体集存在**

## 画图

---

首先确定实体集

然后确定联系集

再确定属性

注意：

- 主键
- 多值属性
- 复合属性
- 派生属性
- 一对一、多对多联系
- 联系集属性
- 弱实体集

![image-20221025140646810](https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221025140646810.png)





生成逻辑结构

## 转换为关系模式

------

1. 强实体集
   1. 唯一属性作为主键
   2. 复合属性里的单值拆分
   3. 派生属性可以删除
   4. 每个多值属性都另外构建一张表
      - 表的主键为原表的主键+多值属性名
      - 可以嵌套
2. 弱实体集，主键为所依赖的强实体集的主键+部分键
3. 多对多联系集，主键为联系的两个实体集的主键
4. 一对多联系集，一般不单独做表，将“多”的实体集表的主键作为属性加到“一”的实体集表上，当做外键
5. 一对一联系集（一对多的特殊形式），选择任意一张表作为“多”

### 问题

用 ER 图设计出来的数据库能保证是正确的吗？

引入下一个章节：规范化理论