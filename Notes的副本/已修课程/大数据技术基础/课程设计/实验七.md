

## 实验描述

----

掌握Spark机器学习库的功能以及机器学习流⽔线，利⽤Spark API、SparkSQL MLlib API实现逻辑回归解决 具体问题。

1. 在三台主机上部署 scala
2. 部署 spark，提交测试任务
3. 部署 kafka
4. 创建 Maven 项目
5. 编写并打包项目
6. 上传 jar 包
7. 提交训练任务，查看结果

## 实验过程

---

1. 在三台主机上部署 scala

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212134900033.png" alt="image-20221212134900033" style="zoom:50%;" />

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212135057735.png" alt="image-20221212135057735" style="zoom:50%;" />

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212135119615.png" alt="image-20221212135119615" style="zoom:50%;" />

2. 部署 spark，提交测试任务

```shell
spark-submit --class org.apache.spark.examples.SparkPi --master yarn --deploy-mode client ./examples/jars/spark-examples_2.11-2.4.8.jar 10
```

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212143831490.png" alt="image-20221212143831490" style="zoom:25%;" />

3. 部署 kafka

启动集群

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212152241242.png" alt="image-20221212152241242" style="zoom:25%;" />



<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212152346493.png" alt="image-20221212152346493" style="zoom:25%;" />

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212152400128.png" alt="image-20221212152400128" style="zoom:25%;" />

执行测试任务

![image-20221212174158963](https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212174158963.png)



4. 创建 Maven 项目

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212154121325.png" alt="image-20221212154121325" style="zoom:25%;" />



5. 编写并打包项目

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212155320331.png" alt="image-20221212155320331" style="zoom:25%;" />

6. 上传 jar 包

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212155420818.png" alt="image-20221212155420818" style="zoom:25%;" />

7. 提交训练任务，查看结果

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212174620639.png" alt="image-20221212174620639" style="zoom:25%;" />

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20221212175137312.png" alt="image-20221212175137312" style="zoom:25%;" />

