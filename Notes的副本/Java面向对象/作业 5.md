

----

# 目录

[toc]

<div STYLE="page-break-after: always;">

----

## 软件开发任务描述

### 项目任务

设计一个贩卖各类书籍的电子商务网站的购物车系统，对不同类别的图书基于不同方式的折扣。

### 开发环境

macOS 12.3.1 Montery

IntelliJ IDEA 2021.3.3(Ultimate Edition)

### 系统特色

0. 良好的图形显示界面，交互性强
1. 产品输入支持连续输入
2. 对用户屏蔽了具体的优惠策略

<div STYLE="page-break-after: always;">

---

## 需求分析

将购物车类比为超市里的购物小票，将小票抽象为 Sale 类；SaleLineItem 类表示小票上的一行商品，包含具体的商品和数量以及金额；具体商品抽象为 ProductSpecification 类，用于维护商品的具体信息和单价。

商品信息输入后，首先由基本信息生成ProductSpecification对象；再封装为SaleLineItem 对象，在这一步中，由图书种类确定具体的折扣策略类，由单价和数量，结合折扣策略，生成这种图书的金额小结；最后传入 Sale 对象，在 Sale 对象中，维护一个 SaleLineItem 数组列表，对数组列表进行计算得到总金额。

<div STYLE="page-break-after: always;">

---

## 软件设计概述

### 模块说明

#### Sale.java

代表一次销售记录，主要维护一个 SaleLineItem 的数组列表，包含 getTotal 方法用于计算总金额

#### SaleLineItem.java

代表一个销售项目，包含一个 ProductSpecification 对象用于表述图书的详细信息，一个 strstegy 用于表示优惠策略，一个 int 用于表示这本书的数量；有 getSubTotal 方法用于得到这本书优惠后的总金额，有 getPro 方法用于获得书籍的详细信息

#### ProductSpecification.java

代表一本书，包含图书的详细信息，包括 ISBN 号，书籍类型，书籍标题，书籍单价。

#### IPricingStrategy.java(interface)

策略类的接口，定义了不同类别图书的优惠策略常数，和一个 getSubTotal 方法。

#### xStrategy.java

FlatRateStrategy.java PercentageStrategy.java NoDiscountStrategy.java

分别代表三种优惠策略。

#### PricingStrategyFactory.java

优惠策略工厂，根据需要生产相应的优惠策略。

#### MainFrame.java

主界面，包含两个下拉式菜单。

#### InputFrame.java

录入图书信息界面，在该界面实现连续输入图书信息。

#### AccountFrame.java

结算界面，显示图书列表和总金额。

#### Test.java

测试类，记录了一次购物，购买了2本教材类图书《UML与模式应用》，单价是18元/本；购买了2本非教材类的计算机图书《Java与模式》，单价是34元/本；购买了1本非教材类的计算机图书《HeadFirst 设计模式》，单价是58元/本；购买了3本连环画类图书《爱丽丝历险记》，单价是30元/本；购买了1本其他类图书《煲汤大全》，单价是20元/本。

#### Main.java

主模块



### 图形化界面说明

#### 原型图

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20220714182515552.png" alt="image-20220714182515552" style="zoom:50%;" />

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20220714182528083.png" alt="image-20220714182528083" style="zoom:50%;" />

#### 实际效果

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20220714182559032.png" alt="image-20220714182559032" style="zoom:50%;" />

<img src="https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20220714182607799.png" alt="image-20220714182607799" style="zoom:50%;" />



<div STYLE="page-break-after: always;">

---

## 详细设计说明

### 类图

![image-20220714185945227](https://wangleidetuchuang.oss-cn-beijing.aliyuncs.com/img/image-20220714185945227.png)

<div STYLE="page-break-after: always;">

---

## 评价和改进意见

1. 图形化界面的设计不够美观，可以使用更细致的布局方式，如网格包布局。
2. 开始界面空无一物，可以设计一个欢迎界面。
3. 计算总价时采取了遍历的方法，可以在Sale 类中维护一个总价变量，输入时修改，使用 get 方法即可保证 O(1)复杂度的计算。

---

## 心得体会

这次大作业布置在考试周，所以一直等到全部考完才开始着手做，前后共花费一周时间，由于考完之后的放纵心理，进程很拖沓qwq，所幸是完成了。然而在做的过程中，突然发现里面有好多思想是很宝贵的，也解答了以前学数据结构的时候的一些围绕已久的疑惑，尤其在 Swing 框架里的”模型-视图-控制器“设计模式，精妙至极！我也体会到了 Java 是一门很工整的语言，也想在以后继续深入学习。

